###########################################  
#Makefile for simple programs  
###########################################  
INC=  
#LIB= -lpthread  
LOCAL_CFLAGS += -pie -fPIE
LOCAL_LDFLAGS += -pie -fPIE
  
CC=aarch64-linux-android-gcc
CC_FLAG=-Wall  
  
PRG=kernel_exploit

OBJ += kallsyms.o \
       main.o
  
$(PRG):$(OBJ)
	$(CC) $(INC) $(LIB) -o $@ $(OBJ) $(LOCAL_CFLAGS)
      
.SUFFIXES: .c .o .cpp  
.cpp.o:
	$(CC) $(CC_FLAG) $(INC) -c $*.cpp -o $*.o  
  
.PRONY:clean  
clean:
	@echo "clean object"
	rm -f $(OBJ) $(PRG)
